{%- from "components/global-image.njk" import global_image -%}
{% macro media_carousel(slides, background_color, caption, splitNav = false) %}
    <figure class="{{ background_color if background_color }}">
    <media-carousel>
        <div class="swiper-container w-full h-full relative">
            {% if splitNav %}
                <nav class="absolute inset-y-1/2 w-full flex flex-row justify-between items-center z-20 m-auto h-8 md:h-12">
                    <div class="carousel-button-prev h-8 md:h-12 w-8 md:w-12 bg-gray-400 bg-opacity-60 shadow-md flex justify-center items-center">
                        <button class="inline-block w-4 h-4 transform rotate-45 justify-self-end border-b-2 border-l-2 border-ams-gold focus:outline-none -indent-xl overflow-hidden">
                            
                        </button>
                    </div>
                    <div class="carousel-button-next h-8 md:h-12 w-8 md:w-12 bg-gray-400 bg-opacity-60 shadow-md flex justify-center items-center">
                        <button class="inline-block w-4 h-4 transform rotate-45 justify-self-start border-t-2 border-r-2 border-ams-gold focus:outline-none -indent-xl overflow-hidden">
                            
                        </button>
                    </div>
                </nav>
            {% endif %}
            <div class="swiper-wrapper z-10">
                    {% for slide in slides %}
                        <div class="swiper-slide">
                            {{global_image(slide, classes='image_frame sm:4:3 md:16:9')}}
                        </div>
                    {% endfor %}
            </div>
            {% if not splitNav %}
                <nav class="flex flex-row items-center relative z-20 m-auto w-max -top-4 py-2 px-4 bg-ams-white shadow-md">
                    <button class="carousel-button-prev inline-block w-4 h-4 transform rotate-45 justify-self-end border-b-2 border-l-2 border-ams-gold focus:outline-none -indent-xl overflow-hidden">
                        previous
                    </button>
                    <span class="px-4 whitespace-nowrap text-ams-gold">
                        <span class="carousel-pagination"></span>
                    </span>
                    <button class="carousel-button-next inline-block w-4 h-4 transform rotate-45 justify-self-start border-t-2 border-r-2 border-ams-gold focus:outline-none -indent-xl overflow-hidden">
                        next
                    </button>
                </nav>
            {% endif %}
            {% if caption %}
            <figcaption class="max-w-xl pt-6 pb-4 px-4 m-auto text-center text-ams-primary">
                {{ caption }}
            </figcaption>
            {% endif %}
        </div>
    </media-carousel>
    </figure>
    
{% endmacro %}